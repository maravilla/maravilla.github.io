<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <title>Punto de Venta en Java</title>

    <!-- Google font -->
    <link href="https://fonts.googleapis.com/css?family=Lato:700%7CMontserrat:400,600" rel="stylesheet">

    <!-- Bootstrap -->
    <link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" />

    <!-- Font Awesome Icon -->
    <link rel="stylesheet" href="css/font-awesome.min.css">

    <!-- Custom stlylesheet -->
    <link type="text/css" rel="stylesheet" href="css/style.css" />

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
		  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

</head>

<body>

    <!-- Header -->
    <header id="header">
        <div class="container">

            <div class="navbar-header">
                <!-- Logo -->
                <div class="navbar-brand">
                    <a class="logo" href="index.html">
                        <bold>Seminario de Solución de Problemas de Sistemas Operativos de Red</bold>
                    </a>
                </div>
                <!-- /Logo -->

                <!-- Mobile toggle -->
                <button class="navbar-toggle">
                    <span></span>
                </button>
                <!-- /Mobile toggle -->
            </div>

            <!-- Navigation -->
            <nav id="nav">
                <ul class="main-menu nav navbar-nav navbar-right">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="blog.html">Actividades</a></li>
                </ul>
            </nav>
            <!-- /Navigation -->

        </div>
    </header>
    <!-- /Header -->

    <!-- Hero-area -->
    <div class="hero-area section">

        <!-- Backgound Image -->
        <div class="bg-image bg-parallax overlay" style="background-image:url(./img/blog-post-background.jpg)"></div>
        <!-- /Backgound Image -->

        <div class="container">
            <div class="row">
                <div class="col-md-10 col-md-offset-1 text-center">
                    <ul class="hero-area-tree">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="blog.html">Actividades</a></li>
                        <li>Punto de Venta Multiplataforma en Java</li>
                    </ul>
                    <h1 class="white-text">Punto de Venta en Java</h1>
                    <ul class="blog-post-meta">
                        <li class="blog-meta-author">Por : <a href="#">Enrique Maravilla - 215861428</a></li>
                        <li>21 Ago, 2019</li>
                    </ul>
                </div>
            </div>
        </div>

    </div>
    <!-- /Hero-area -->

    <!-- Blog -->
    <div id="blog" class="section">

        <!-- container -->
        <div class="container">

            <!-- row -->
            <div class="row">

                <!-- main blog -->
                <div id="main" class="col-md-12">


                    <!-- blog post -->
                    <div class="blog-post">


                        <p style="text-align: justify;"><strong>Punto de Venta Multiplataforma en Java</strong></p>

                        <p>La aplicación de un punto de venta en Java fue desarrollada en Java 8 utilizando el IDE Eclipse</p>
                        <p>&nbsp;</p>

                        <p>Las herramientas se pueden descargar en sus respectivos sitios de descargas:</p>

                        <p>&nbsp;</p>
                        <p><a href="https://www.eclipse.org/downloads/">Eclipse</a></p>
                        <p><a href="https://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html">Java</a>

                            <p>&nbsp;</p>
                            <p>La impementación de la aplicación consiste en crear una clase que extiende a JFrame, y bajo este framework crear listas en RAM que se generaran con base en archivos .CSV (comma separated values) los cuales serán leídos y guardados al inicio y cierre del programa. Las listas en turno poblarán objetos JTable que mostrarán los artículos a vender. Y mediante operaciones en las listas los artículos serán añadidos al carrito de compras, sumados por su precio total, y vendidos al hacer "Checkout". El programa contiene validaciones de inventario así como de intentar hacer checkout sin elementos en el carrito u operaciones sin elementos seleccionados.</p>

                            <p>&nbsp;</p>
                            <p><strong>Programa corriendo en Windows:</strong></p>

                            <img src="img/puntoDeVenta1.jpg" width="700px">
                            <p>Inicialización con datos del .CSV</p>
                            <p>&nbsp;</p>
                            <img src="img/puntoDeVenta2.jpg" width="700px">
                            <p>Control de selección de artículos por inventario</p>
                            <p>&nbsp;</p>
                            <img src="img/puntoDeVenta3.jpg" width="700px">
                            <p>Monto de compra total de artículos</p>
                            <p>&nbsp;</p>
                            <img src="img/puntoDeVenta4.jpg" width="700px">
                            <p>Venta de productos y actualización de inventario</p>
                            <p>&nbsp;</p>

                            <p><strong>Programa corriendo en Linux (Mint):</strong></p>
                            <img src="img/puntoDeVentaLinux.png" width="700px">
                            <p>&nbsp;</p>
                            <p><strong>BONUS: Programa corriendo en MAC OS X (Mojave):</strong></p>
                            <img src="img/puntoDeVentaMac.png" width="700px">
                            <p> <strong>Código fuente para la clase de Item para los artículos a almacenar y vender</strong></p>
                            <p>&nbsp;</p>
                            <code>
                                <p>public class Item {</p>
                                <p><br /> private double price;<br /> private String name;<br /> private String description;<br /> private String department;<br /> private int quantity;</p>
                                <p>/**<br /> * @param price<br /> * @param name<br /> * @param description<br /> * @param department<br /> */<br /> public Item(double price, String name, String description, String department, int quantity) {<br /> super();<br /> this.price = price;<br /> this.name = name;<br /> this.description = description;<br /> this.department = department;<br /> this.quantity = quantity;<br /> }<br /> public Item(Item i) {<br /> // TODO Auto-generated constructor stub<br /> this.price = i.price;<br /> this.name = i.name;<br /> this.description = i.description;<br /> this.department = i.department;<br /> this.quantity = i.quantity;<br /> }<br /> /**<br /> * @return the price<br /> */<br /> public double getPrice() {<br /> return price;<br /> }<br /> /**<br /> * @param price the price to set<br /> */<br /> public void setPrice(double price) {<br /> this.price = price;<br /> }<br /> /**<br /> * @return the name<br /> */<br /> public String getName() {<br /> return name;<br /> }<br /> /**<br /> * @param name the name to set<br /> */<br /> public void setName(String name) {<br /> this.name = name;<br /> }<br /> /**<br /> * @return the description<br /> */<br /> public String getDescription() {<br /> return description;<br /> }<br /> /**<br /> * @param description the description to set<br /> */<br /> public void setDescription(String description) {<br /> this.description = description;<br /> }<br /> /**<br /> * @return the department<br /> */<br /> public String getDepartment() {<br /> return department;<br /> }<br /> /**<br /> * @param department the department to set<br /> */<br /> public void setDepartment(String department) {<br /> this.department = department;<br /> }<br /> /* (non-Javadoc)<br /> * @see java.lang.Object#toString()<br /> */<br /> /**<br /> * @return the quantity<br /> */<br /> public int getQuantity() {<br /> return quantity;<br /> }<br /> /**<br /> * @param quantity the quantity to set<br /> */<br /> public void setQuantity(int quantity) {<br /> this.quantity = quantity;<br /> }</p>
                                <p>@Override<br /> public String toString() {<br /> return price + "," + name + "," + description + "," + department + "," + quantity + '\n';</p>
                                <p>}</p>
                                <p>// Sobrecargar asquerosamente el operador de comparacion ya que .contains lo utiliza en ArrayList<br /> // PS: no tengo npi de por que eso funciona y lo comentado no<br /> @Override<br /> public boolean equals(Object obj){</p>
                                <p>if(obj == null){<br /> return false;<br /> }<br /> final Item other = (Item) obj;<br /> if ((this.getName() == null) ? (other.name != null) : !this.getName().equals(other.getName())){<br /> return false;<br /> }<br /> /* if(obj.getClass().getName() == this.getName()){<br /> return true;<br /> }*/<br /> return true;</p>
                                <p>}</p>
                                <p><br /> }<br /></p>
                            </code>

                            <p>&nbsp;</p>
                            <p>&nbsp;</p>
                            <p><strong>Código fuente para la clase Terminal que servirá como nuestra interfáz gráfica</strong></p>
                            <p>&nbsp;</p>

                            <code>
                                <p><br /> import javax.swing.*;<br /> import javax.swing.table.DefaultTableModel;<br /> import java.io.BufferedReader;<br /> import java.io.FileNotFoundException;<br /> import java.io.FileReader;<br /> import java.io.FileWriter;<br /> import java.io.IOException;<br /> import java.util.ArrayList;<br /> import java.util.List;<br /> import java.io.File;<br /> import java.awt.FlowLayout;<br /> import java.awt.event.MouseAdapter;<br /> import java.awt.event.MouseEvent;<br /> import java.awt.event.WindowAdapter;<br /> import java.awt.event.WindowEvent;</p>
                                <p>public class Terminal extends JFrame {<br /> private List&amp;lt;Item&amp;gt; stock;<br /> private List&amp;lt;Item&amp;gt; cart;<br /> private double total;<br /> final static String[] STOCKCOLUMNS = {&amp;quot;Price&amp;quot;, &amp;quot;Name&amp;quot; , &amp;quot;Description&amp;quot;, &amp;quot;Department&amp;quot;, &amp;quot;Stock&amp;quot;};<br /> final static String[] CARTCOLUMNS = {&amp;quot;Price&amp;quot;, &amp;quot;Name&amp;quot; , &amp;quot;Description&amp;quot;, &amp;quot;Department&amp;quot;, &amp;quot;Quantity&amp;quot;};</p>
                                <p><br /> public Terminal(){</p>
                                <p>/*<br /> List&amp;lt;Item&amp;gt; test = new ArrayList&amp;lt;Item&amp;gt;();</p>
                                <p>Item myItem1 = new Item(1.22,&amp;quot;Banana Milk&amp;quot;, &amp;quot;Milk made out of bananas&amp;quot;,&amp;quot;Lactose&amp;quot;,10);<br /> Item myItem2 = new Item(200.00,&amp;quot;Strawberry Milk&amp;quot;, &amp;quot;Milk made out of Strawberry&amp;quot;,&amp;quot;Lactose&amp;quot;,20);<br /> Item myItem3 = new Item(4.20,&amp;quot;WEED Milk&amp;quot;, &amp;quot;Milk made out of WEED&amp;quot;,&amp;quot;Lactose&amp;quot;,20);</p>
                                <p>test.add(myItem1);<br /> test.add(myItem2);<br /> test.add(myItem3);<br /> write(test);<br /> System.out.println(test.toString());<br /> */</p>
                                <p><br /> // Create buttons<br /> JButton button = new JButton(&amp;quot;+&amp;quot;);<br /> JButton btnCheckout = new JButton(&amp;quot;Checkout&amp;quot;);<br /> // Create JTable and scroll pane for inventory<br /> JTable inv_table = new JTable();<br /> JScrollPane invScrollPane = new JScrollPane(inv_table);<br /> // Create JTable and scroll pane for cart<br /> JTable cart_table = new JTable();<br /> JScrollPane cartScrollPane = new JScrollPane(cart_table);<br /> // Create JLabel for total cost<br /> JLabel totalCostLabel = new JLabel(&amp;quot;0.00&amp;quot;);<br /> // Set Table models<br /> DefaultTableModel stockModel = new DefaultTableModel();<br /> DefaultTableModel cartModel = new DefaultTableModel();<br /> stockModel.setColumnIdentifiers(STOCKCOLUMNS);<br /> cartModel.setColumnIdentifiers(CARTCOLUMNS);</p>
                                <p>// Read file and fill Terminal-&amp;gt;stock list with stored values<br /> setStock(read());<br /> // Create new ArrayList to hold cart in RAM<br /> cart = new ArrayList&amp;lt;Item&amp;gt;();</p>
                                <p>// set the flowLayout for the whole pane<br /> getContentPane().setLayout(new FlowLayout(FlowLayout.CENTER, 5, 5));<br /> // set the TableModel for the inventory by iterating over Terminal-&amp;gt;stock (List)<br /> stockModel = getStockModel(stock,stockModel);<br /> // set the DefaultTableModels based on the Models created<br /> inv_table.setModel(stockModel);<br /> cart_table.setModel(cartModel);</p>
                                <p>// what that says<br /> cart_table.setFillsViewportHeight(true);<br /> inv_table.setFillsViewportHeight(true);</p>
                                <p>//add stuff to JPane (like that since Terminal extends it)<br /> getContentPane().add(button);<br /> getContentPane().add(invScrollPane);<br /> getContentPane().add(cartScrollPane);<br /> getContentPane().add(btnCheckout);<br /> getContentPane().add(totalCostLabel);</p>
                                <p>// set stuff for window<br /> setTitle(&amp;quot;Punto de Venta&amp;quot;);<br /> setResizable(true);<br /> setSize(1020,500);<br /> setVisible(true);<br /> setDefaultCloseOperation(EXIT_ON_CLOSE);</p>
                                <p>// Window listener to write inventory file on close<br /> this.addWindowListener(new WindowAdapter(){<br /> public void windowClosing(WindowEvent e){<br /> write(stock);<br /> }<br /> });</p>
                                <p>// Mouse listener for + to cart button<br /> button.addMouseListener(new MouseAdapter() {<br /> @Override<br /> public void mouseClicked(MouseEvent arg0) {<br /> //mfw no hay Find() como en C#<br /> //mfw O(n^3)<br /> int row = inv_table.getSelectedRow();<br /> if(row == -1) {<br /> System.out.println(&amp;quot;Please select an item to add to the cart&amp;quot;);<br /> }<br /> else {<br /> for (Item invItem : stock){</p>
                                <p>if(invItem.getName().equals(inv_table.getValueAt(row,1).toString())){</p>
                                <p>if(!cart.contains(invItem)){</p>
                                <p>Item aux = new Item(invItem);</p>
                                <p>aux.setQuantity(1);</p>
                                <p>cart.add(aux);<br /> total+= aux.getPrice();<br /> totalCostLabel.setText(Double.toString(total));</p>
                                <p>}<br /> else {</p>
                                <p>for (Item cartItem : cart){<br /> double subtotal = 0.00;<br /> if(cartItem.equals(invItem)){</p>
                                <p>if(cartItem.getQuantity() &amp;lt; invItem.getQuantity()){</p>
                                <p>cartItem.setQuantity(cartItem.getQuantity()+1);</p>
                                <p>System.out.println(&amp;quot;Cart Quantity:&amp;quot;);<br /> System.out.println(cartItem.getQuantity());</p>
                                <p>System.out.println(&amp;quot;Inventory Quantity:&amp;quot;);<br /> System.out.println(invItem.getQuantity());</p>
                                <p>total += cartItem.getPrice();</p>
                                <p>System.out.println(total);</p>
                                <p>totalCostLabel.setText(Double.toString(total));<br /> }<br /> else {</p>
                                <p>System.out.println(&amp;quot;STOCK LIMIT REACHED&amp;quot;);</p>
                                <p>}<br /> }<br /> }<br /> }<br /> }<br /> }<br /> System.out.println(cart.toString());<br /> System.out.println(stock.toString());<br /> }</p>
                                <p>DefaultTableModel updateInv= new DefaultTableModel();<br /> updateInv.setColumnIdentifiers(STOCKCOLUMNS);<br /> updateInv = getStockModel(stock,updateInv);</p>
                                <p>&nbsp;</p>
                                <p>DefaultTableModel updateCart= new DefaultTableModel();<br /> updateCart.setColumnIdentifiers(CARTCOLUMNS);<br /> updateCart = getStockModel(cart,updateCart);</p>
                                <p>// set the DefaultTableModels based on the Models created<br /> inv_table.setModel(updateInv);<br /> cart_table.setModel(updateCart);</p>
                                <p>inv_table.updateUI();<br /> cart_table.updateUI();</p>
                                <p>inv_table.setRowSelectionInterval(row,row);</p>
                                <p><br /> }<br /> });</p>
                                <p><br /> // Mouse listener for checkout button<br /> btnCheckout.addMouseListener(new MouseAdapter() {<br /> @Override<br /> public void mouseClicked(MouseEvent e) {<br /> if(!cart.isEmpty()) {<br /> for (Item cartItem : cart) {</p>
                                <p>if(stock.contains(cartItem)) {<br /> for(Item invItem : stock) {<br /> if(cartItem.equals(invItem)) {<br /> invItem.setQuantity(invItem.getQuantity() - cartItem.getQuantity());<br /> System.out.println(&amp;quot;Items Sold&amp;quot;);</p>
                                <p><br /> }</p>
                                <p>}<br /> }<br /> System.out.printf(&amp;quot;The total is: %.2f&amp;quot;, total);<br /> }<br /> cart.clear();<br /> } else {<br /> System.out.println(&amp;quot;Please add something to the cart before checkout&amp;quot;);<br /> }<br /> DefaultTableModel updateInv= new DefaultTableModel();<br /> updateInv.setColumnIdentifiers(STOCKCOLUMNS);<br /> updateInv = getStockModel(stock,updateInv);</p>
                                <p>&nbsp;</p>
                                <p>DefaultTableModel updateCart= new DefaultTableModel();<br /> updateCart.setColumnIdentifiers(CARTCOLUMNS);<br /> updateCart = getStockModel(cart,updateCart);</p>
                                <p>inv_table.setModel(updateInv);<br /> cart_table.setModel(updateCart);</p>
                                <p>inv_table.updateUI();<br /> cart_table.updateUI();</p>
                                <p>total = 0.00;<br /> totalCostLabel.setText(Double.toString(total));</p>
                                <p>}<br /> });<br /> }<br /> /**<br /> * @return the stock<br /> */<br /> public List&amp;lt;Item&amp;gt; getStock() {<br /> return stock;<br /> }</p>
                                <p>/**<br /> * @param stock the stock to set<br /> */<br /> public void setStock(List&amp;lt;Item&amp;gt; stock) {<br /> this.stock = stock;<br /> }</p>
                                <p><br /> /**<br /> * @return the cart<br /> */<br /> public List&amp;lt;Item&amp;gt; getCart() {<br /> return cart;<br /> }</p>
                                <p><br /> /**<br /> * @param cart the cart to set<br /> */<br /> public void setCart(List&amp;lt;Item&amp;gt; cart) {<br /> this.cart = cart;<br /> }</p>
                                <p>&nbsp;</p>
                                <p>/**<br /> * @return the total<br /> */<br /> public double getTotal() {<br /> return total;<br /> }<br /> /**<br /> * @param total the total to set<br /> */<br /> public void setTotal(double total) {<br /> this.total = total;<br /> }<br /> // Generate table model by iterating on ArrayList<br /> public DefaultTableModel getStockModel(List&amp;lt;Item&amp;gt; modelList, DefaultTableModel model){<br /> for (Item item : modelList){<br /> Object[] aux = new Object[5];<br /> aux[0] = item.getPrice();<br /> aux[1] = item.getName();<br /> aux[2] = item.getDescription();<br /> aux[3] = item.getDepartment();<br /> aux[4] = item.getQuantity();<br /> model.addRow(aux);<br /> }<br /> return model;</p>
                                <p>}<br /> private static List&amp;lt;Item&amp;gt; read(){</p>
                                <p>BufferedReader reader = null;<br /> String line = &amp;quot;&amp;quot;;<br /> String splitBy = &amp;quot;,&amp;quot;;<br /> List&amp;lt;Item&amp;gt; readList = new ArrayList&amp;lt;Item&amp;gt;();<br /> File myFile = new File(&amp;quot;items.csv&amp;quot;);<br /> try{<br /> if (myFile.isFile()){</p>
                                <p>reader = new BufferedReader(new FileReader(&amp;quot;items.csv&amp;quot;));<br /> while((line = reader.readLine()) != null){<br /> String[] items = line.split(splitBy);<br /> Item auxItem = new Item(Double.parseDouble(items[0]), items[1], items[2], items[3], Integer.parseInt(items[4]));<br /> readList.add(auxItem);<br /> }<br /> } else {<br /> myFile.createNewFile();<br /> }<br /> }catch (FileNotFoundException ex){<br /> ex.printStackTrace();<br /> }catch (IOException ex){<br /> ex.printStackTrace();<br /> } finally {<br /> if(reader != null){<br /> try{<br /> reader.close();<br /> }catch (IOException ex){<br /> ex.printStackTrace();<br /> }<br /> }<br /> }</p>
                                <p><br /> return readList;</p>
                                <p>}</p>
                                <p>private static void write(List&amp;lt;Item&amp;gt; stock){<br /> try{<br /> FileWriter writer = new FileWriter(&amp;quot;items.csv&amp;quot;,false);<br /> for(int i = 0; i &amp;lt; stock.size(); i++){<br /> writer.append(stock.get(i).toString());<br /> }<br /> writer.close();<br /> }catch (IOException ex){</p>
                                <p>ex.printStackTrace();<br /> }</p>
                                <p>}</p>
                                <p>}</p>
                            </code>

                            <p><strong>Código fuente para la clase Main que inicia nuestro programa</strong></p>

                            <code>public class main {<br />

                                public static void main(String[] args) {<br />
                                // TODO Auto-generated method stub<br />
                                Terminal myTerminal = new Terminal();<br />
                                }<br />
                                }
                            </code>







                    </div>
                    <!-- /blog post -->


                </div>
                <!-- /main blog -->

            </div>
            <!-- row -->

        </div>
        <!-- container -->

    </div>
    <!-- /Blog -->

    <!-- Footer -->
    <footer id="footer" class="section">

        <!-- container -->
        <div class="container">

            <!-- row -->
            <div class="row">

                <!-- footer nav -->
                <div class="col-md-6">
                    <ul class="footer-nav">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="#">Actividades</a></li>
                    </ul>
                </div>
                <!-- /footer nav -->

            </div>
            <!-- /row -->

            <!-- row -->
            <div id="bottom-footer" class="row">


                <!-- copyright -->
                <div class="col-md-8 col-md-pull-4">
                    <div class="footer-copyright">
                        <span>&copy; Copyright 2018. All Rights Reserved. | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://colorlib.com">Colorlib</a></span>
                    </div>
                </div>
                <!-- /copyright -->

            </div>
            <!-- row -->

        </div>
        <!-- /container -->

    </footer>
    <!-- /Footer -->

    <!-- preloader -->
    <div id='preloader'>
        <div class='preloader'></div>
    </div>
    <!-- /preloader -->


    <!-- jQuery Plugins -->
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/main.js"></script>

</body>

</html>
